@model List<Prodotto>;

@{
    string Categoria = ViewBag.NomeCategoria;
    ViewData["Title"] = $"EpiTech - {Categoria}";
}

<nav aria-label="breadcrumb" class="bg-light py-2 rounded mb-4 shadow-sm">
    <ol class="breadcrumb fw-bold mb-0 px-3">
        <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index" class="text-primary opacity-75">Home</a></li>
        <li class="breadcrumb-item"><a asp-controller="Prodotti" asp-action="Index" class="text-primary opacity-75">Prodotti</a></li>
        <li class="breadcrumb-item active text-dark" aria-current="page">@ViewBag.NomeCategoria</li>
    </ol>
</nav>
<div class="container-fluid" style="background-image: url(https://files.refurbed.com/hp/homepage/hp_banner_lg.webp); background-size: cover; background-position: center; background-repeat: no-repeat;width: 100vw; position: relative; left: 50%; right: 50%; margin-left: -50.5vw; margin-right: auto; height: fit-content">
    <div class="text-center mb-5">
        <h2 class="fw-bold display-5" style="font-weight: 700; color: #f8f8f8; font-size: 80px;">@ViewBag.NomeCategoria</h2>
        <p class="fw-semibold fs-5 mt-5" style="font-size: 1.2rem; color: #ffff;">Trova i migliori prodotti @ViewBag.NomeCategoria con almeno 12 mesi di garanzia e il miglior rapporto qualità-prezzo.</p>
    </div>
</div>

    
<hr class="mb-5" />

<div class="container">
    <div class="row justify-content-center">
        @if (Model != null && Model.Any())
        {
            @foreach (var product in Model)
            {
                <div class="col-6 col-md-4 col-lg-3 mb-4">
                    <div class="card h-100 border-0 shadow-sm">
                        <a asp-controller="Dettaglio" asp-action="Index" asp-route-id="@product.IdProdotto">
                            <img src="@product.Immagine" class="card-img-top" alt="@product.Nome" style="height: 150px; object-fit: contain;">
                        </a>
                        <div class="card-body p-3 text-center">
                            <a asp-controller="Dettaglio" asp-action="Index" asp-route-id="@product.IdProdotto" class="card-title h6 fw-bold mb-1 custom-card-detail d-block">@product.Nome</a>
                            <a asp-controller="Dettaglio" asp-action="Index" asp-route-id="@product.IdProdotto">
                                <p class="card-text fw-bold mb-2" style="color: #1B3A2A;">€ @product.Prezzo.ToString("N2")</p>
                            </a>
                        </div>
                        <div class="card-footer bg-transparent border-0 p-2">
                            <form asp-controller="Carrello" asp-action="AggiungiAlCarrello" method="post" asp-route-id="@product.IdProdotto" asp-route-number="1">
                                <input type="hidden" name="idProdotto" value="@product.IdProdotto" />
                                <button type="submit" class="btn BtnCustomHome CategoryBtn btn-sm w-100 fw-bold">Acquista Ora</button>
                            </form>
                        </div>
                    </div>
                </div>
            }
        }
        else
        {
            <div class="col-12 text-center">
                <p class="text-muted fs-4">Nessun prodotto disponibile in questa categoria.</p>
            </div>
        }
    </div>
</div>


